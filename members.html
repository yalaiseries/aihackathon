<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Participants · AI (Hackathon) Series</title>
    <meta name="description" content="Agentic AI Learning Hub for registered participants in the AI (Hackathon) Series 2026 programme." />
    <link rel="canonical" href="https://aihackathon.pro/members.html" />
    <meta name="theme-color" content="#0b1220" />

    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="AI (Hackathon) Series" />
    <meta property="og:title" content="Participants · AI (Hackathon) Series" />
    <meta property="og:description" content="Sign in to access members-only resources and past sharing." />
    <meta property="og:url" content="https://aihackathon.pro/members.html" />

    <meta name="twitter:card" content="summary" />

    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="stylesheet" href="/site.css" />

    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  </head>
  <body>
    <a class="skip-link" href="#main">Skip to content</a>
    <header class="header">
      <div class="nav">
        <a class="brand" href="/">
          <span class="badge" aria-hidden="true"></span>
          <span>
            <strong>AI (Hackathon) Series</strong>
            <span class="sub">Agentic AI Learning Hub (2026)</span>
          </span>
        </a>
        <nav class="links" aria-label="Primary">
          <a href="/">Home</a>
          <a href="/programme.html">Programme</a>
          <a href="/timeline.html">Timeline</a>
          <a href="/submissions.html">Submissions</a>
          <a class="active" href="/members.html" aria-current="page">Participants</a>
          <a class="btn primary" href="https://forms.gle/rdZZzCxTVhAAzvCP7" target="_blank" rel="noreferrer">Register</a>
        </nav>
      </div>
    </header>

    <main class="main" id="main">
      <h1>Participants / Learning Hub</h1>

      <section class="card">
        <h2>Sign in</h2>
        <p class="muted">Training materials are available only to registered participants and members of our community of practice. Please sign in to access members-only resources.</p>
        <div class="cta" style="margin-top: 10px;">
          <button class="btn primary" id="login" type="button">Log in / Sign up</button>
          <button class="btn" id="logout" type="button" style="display:none;">Log out</button>
          <span class="small" id="who"></span>
        </div>
        <p class="small warn" style="margin-top: 10px;">Tip: enable Netlify Identity in your Netlify site settings for this to work.</p>
      </section>

      <section class="card">
        <h2>How access works</h2>
        <p class="muted">Principle: everything needed to decide, register, and understand the event stays public. Anything that provides extra training, deep know-how, and detailed submissions is shared here for members/participants.</p>
        <ul>
          <li><strong>Public:</strong> objectives, theme &amp; topics, timeline, deliverables overview, judging criteria (high-level), benefits, prizes, venue/Zoom, CPD points, contacts, public social links.</li>
          <li><strong>Members/participants:</strong> training materials, detailed past submissions, templates, recordings, deep-dive workflows, and internal sharing.</li>
        </ul>
      </section>

      <section class="card">
        <h2>Participants library</h2>
        <p class="muted">This list is served via a protected Netlify Function. Not logged in = no access.</p>
        <div id="membersStatus" class="small"></div>
        <div id="membersContent" class="answer"></div>
      </section>

      <section class="card">
        <h2>What you’ll find here</h2>
        <ul>
          <li><strong>Agentic AI materials (2026):</strong> curated learning resources, examples, and internal references shared with participants.</li>
          <li><strong>Detailed past submissions:</strong> full access to 2024/2025 references and any extended write-ups shared within the community.</li>
          <li><strong>Submission templates:</strong> downloadable 2-page write-up and 10-slide deck templates, plus examples when available.</li>
          <li><strong>Training materials:</strong> session recordings, slides, notes, and any handouts/exercises.</li>
          <li><strong>Deep-dive workflows:</strong> tools, pipelines, scripts, and reference implementations shared within the CoPr.</li>
          <li><strong>Learning paths:</strong> curated tracks linking materials for self-paced upskilling.</li>
          <li><strong>Community spaces:</strong> links to any private channels and internal Q&amp;A archives (when enabled).</li>
        </ul>
      </section>

      <footer class="footer">
        <a href="mailto:youth@sia.org.sg">youth@sia.org.sg</a> · <a href="mailto:yal.aiseries@gmail.com">yal.aiseries@gmail.com</a> · Public: <a href="https://archihackathon.com" target="_blank" rel="noreferrer">archihackathon.com</a>
      </footer>
    </main>

    <script>
      const loginBtn = document.getElementById('login');
      const logoutBtn = document.getElementById('logout');
      const whoEl = document.getElementById('who');
      const statusEl = document.getElementById('membersStatus');
      const contentEl = document.getElementById('membersContent');

      function setStatus(text) {
        statusEl.textContent = text || '';
      }

      function setContent(text) {
        contentEl.textContent = text || '';
      }

      function updateUI(user) {
        if (user) {
          loginBtn.style.display = 'none';
          logoutBtn.style.display = '';
          const email = (user.email || (user.user_metadata && user.user_metadata.email) || '').trim();
          whoEl.textContent = email ? `Signed in as ${email}` : 'Signed in';
        } else {
          loginBtn.style.display = '';
          logoutBtn.style.display = 'none';
          whoEl.textContent = '';
        }
      }

      async function loadMembersLibrary(user) {
        setContent('');
        if (!user) {
          setStatus('Please sign in to view members-only resources.');
          return;
        }

        setStatus('Loading members-only resources…');
        try {
          const token = await user.jwt();
          const res = await fetch('/.netlify/functions/members-resources', {
            headers: {
              authorization: `Bearer ${token}`
            }
          });

          const data = await res.json().catch(() => ({}));
          if (!res.ok) {
            setStatus('');
            setContent(data.error || 'Could not load members-only resources.');
            return;
          }

          const items = Array.isArray(data.resources) ? data.resources : [];
          if (!items.length) {
            setStatus('');
            setContent('No members-only resources configured yet.');
            return;
          }

          setStatus('');
          contentEl.innerHTML = `<ul>${items
            .map((r) => {
              const title = String(r.title || '').replace(/</g, '&lt;');
              const url = String(r.url || '').replace(/</g, '&lt;');
              const note = String(r.note || '').replace(/</g, '&lt;');
              const line = note ? `<div class="small">${note}</div>` : '';
              return `<li><a href="${url}" target="_blank" rel="noreferrer">${title}</a>${line}</li>`;
            })
            .join('')}</ul>`;
        } catch (e) {
          setStatus('');
          setContent(String(e));
        }
      }

      loginBtn.addEventListener('click', () => {
        if (!window.netlifyIdentity) return;
        window.netlifyIdentity.open();
      });

      logoutBtn.addEventListener('click', () => {
        if (!window.netlifyIdentity) return;
        window.netlifyIdentity.logout();
      });

      if (window.netlifyIdentity) {
        window.netlifyIdentity.on('init', (user) => {
          updateUI(user);
          loadMembersLibrary(user);
        });
        window.netlifyIdentity.on('login', (user) => {
          window.netlifyIdentity.close();
          updateUI(user);
          loadMembersLibrary(user);
        });
        window.netlifyIdentity.on('logout', () => {
          updateUI(null);
          loadMembersLibrary(null);
        });
        window.netlifyIdentity.init();
      } else {
        setStatus('Netlify Identity script failed to load.');
      }
    </script>
  </body>
</html>
